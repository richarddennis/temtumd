{"version":3,"file":"server.js","sourceRoot":"","sources":["server.ts"],"names":[],"mappings":"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"}